---
title: To seaborn or not to seaborn ?
subtitle: or How I Learned to Stop Worrying and Love the Matplotlib
author: Siddharth S. Tomar
date: '2019-02-25'
categories:
  - python
tags:
  - plotting
  - graphics
---


# Preamble 
I like [Seaborn](https://stackoverflow.com/questions/54788526/add-bar-plot-along-a-particular-axis-of-clustermap-with-index-specific-data). It is efficient, fast and does what it is meant to do - which is creating pretty figures. Since seaborn builds on top of [Matplotlib](https://matplotlib.org/), the plots it generates can be (almost) emulated in Matplotlib. Some people might wonder, why reinvent the wheel? There are cases where seaborn might prove a bit difficult to work with, for example, [multipanel figures](https://stackoverflow.com/questions/38082602/plotting-multiple-different-plots-in-one-figure-using-seaborn). Seaborn does provide Facet Grid to remedy shortcomings related to multi panels figures, but this is good for arranging figures within seaborn mostly, not if you want to use Matplotlib or any other library based on Matplotlib with seaborn. A recent [example](https://stackoverflow.com/questions/54788526/add-bar-plot-along-a-particular-axis-of-clustermap-with-index-specific-data) of this was when I tried to create a stacked barplot along with the cluster-map in Seaborn. I believe Seaborn uses [gridspec](https://matplotlib.org/api/gridspec_api.html) internally for plotting the cluster-map, but I was unable to modify it according to my specifications. To cut a long story short, I wasn't able to do it using Seaborn - and this does not mean that Seaborn is not good enough - it just says that I was not able to implement my view using the library. 

## GridSpec to rescue
I have been using seaborn for all of my Master's, and it is still my go-to package for plotting exploratory analysis. This also meant that I ignored GridSpec and other Matplotlib modules which might have been useful for me in the past. I mean, look at the [jointgrid](https://seaborn.pydata.org/generated/seaborn.JointGrid.html) plots from Seaborn, they are so _awesome_. However, I couldn't use it for my clustermap and then I went to a path of self-discovery. What if..what if I used Matplotlib? The forgotten library which I only used to set Seaborn parameters. 
{{< figure src="https://gist.githubusercontent.com/siddharthst/0092b7b593bc8dea22f4f778f7823d0e/raw/711dc113f73cef975d9fa895197ed504bd149940/post_2_jointgrid.svg?sanitize=true" alt="Seaborn jointplot" caption="Seaborn jointplot - they are just awesome">}}

Let's face it, Matplotlib sub-figures/panels/plots can be a bit messy. When it boils down to the basics, they are not that different from creating a basic Matplotlib figure. My focus here will be on GridSpec instead of [subplots](https://matplotlib.org/api/_as_gen/matplotlib.pyplot.subplots.html). Let us think about gridspec for a while - the way figures are defined in gridspec resembles more to a 2-dimensional matrix. Take the following code for example:

{{< highlight python >}}
import matplotlib.gridspec as gridspec
gs = GridSpec(3, 3)
{{< /highlight >}}

This essentially (oversimplified) translates into this:
{{< figure src="https://gist.githubusercontent.com/siddharthst/7dca5ad07f93ce7475a4c1f599e822c9/raw/69036e5c378b821270f306cb2f5ed0eba43c3f03/post_2_oversimplegg.svg?sanitize=true" alt="A 3x3 GridSpec backbone" caption="Look! A 3x3 GridSpec playground">}}

